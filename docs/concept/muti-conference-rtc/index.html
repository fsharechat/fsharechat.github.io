<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=3">
<meta httpequiv="x-ua-compatible" content="ie=edge">
<meta property="og:type" content="website">
<meta name="author" content="fsharechat">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:site" content="@questdb">
<meta name="generator" content="Docusaurus v2.0.0-alpha.64">
<link href="https://www.googletagmanager.com" rel="dns-prefetch">
<link href="https://www.google-analytics.com" rel="dns-prefetch">
<link rel="shortcut icon" href="https://https://fsharechat.github.io//img/favicon.png">
<link rel="apple-touch-icon" sizes="48x48" href="/img/icons/icon-48x48.png">
<link rel="apple-touch-icon" sizes="72x72" href="/img/icons/icon-72x72.png">
<link rel="apple-touch-icon" sizes="96x96" href="/img/icons/icon-96x96.png">
<link rel="apple-touch-icon" sizes="144x144" href="/img/icons/icon-144x144.png">
<link rel="apple-touch-icon" sizes="192x192" href="/img/icons/icon-192x192.png">
<link rel="apple-touch-icon" sizes="256x256" href="/img/icons/icon-256x256.png">
<link rel="apple-touch-icon" sizes="384x384" href="/img/icons/icon-384x384.png">
<link rel="apple-touch-icon" sizes="512x512" href="/img/icons/icon-512x512.png">
<link rel="sitemap" type="application/xml" href="/sitemap.xml">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="飞享IM-即时IM通讯系统  Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="飞享IM-即时IM通讯系统  Blog Atom Feed">
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-H6YPVFKWXP"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-H6YPVFKWXP",{anonymize_ip:!0})</script>
<link rel="search" type="application/opensearchdescription+xml" title="飞享IM-即时IM通讯系统 " href="/opensearch.xml">
<link rel="icon" href="/img/favicon.png">
<link rel="manifest" href="/manifest.webmanifest">
<meta name="theme-color" content="#d14671">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#21222c">
<link rel="apple-touch-icon" href="/img/favicon.png">
<link rel="mask-icon" href="/img/favicon.png" content="#fff">
<meta name="msapplication-TileImage" content="/img/favicon.png">
<meta name="msapplication-TileColor" content="#21222c"><title data-react-helmet="true">多人音视频会话方案预研 | 飞享IM-即时IM通讯系统 </title><meta data-react-helmet="true" property="og:image" content="https://https://fsharechat.github.io//img/og.png"><meta data-react-helmet="true" name="twitter:image" content="https://https://fsharechat.github.io//img/og.png"><meta data-react-helmet="true" name="twitter:description" content="飞享IM 做技术自主可控的即时通讯IM"><meta data-react-helmet="true" name="twitter:title" content="Introduction | 飞享IM-即时IM通讯系统 "><meta data-react-helmet="true" name="twitter:image:alt" content="Image for &quot;Introduction | 飞享IM-即时IM通讯系统 &quot;"><meta data-react-helmet="true" property="og:title" content="多人音视频会话方案预研 | 飞享IM-即时IM通讯系统 "><meta data-react-helmet="true" name="description" content="im  muti-conference"><meta data-react-helmet="true" property="og:description" content="im  muti-conference"><meta data-react-helmet="true" property="og:url" content="https://https://fsharechat.github.io//docs/concept/muti-conference-rtc"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="true"><link data-react-helmet="true" rel="canonical" href="https://https://fsharechat.github.io//docs/concept/muti-conference-rtc"><link rel="stylesheet" href="/styles.6808db04.css">
</head>
<body itemscope itemtype="http://schema.org/Organization">
<meta itemprop="name" content="飞享IM 做技术自主可控的即时通讯IM">
<meta itemprop="description" content="飞享IM 做技术自主可控的即时通讯IM">
<meta itemprop="url" content="https://https://fsharechat.github.io/">
<meta itemprop="logo" content="https://https://fsharechat.github.io//img/favicon.png">
<meta itemprop="sameAs" content="https://weibo.com/comsince">
<meta itemprop="sameAs" content="https://www.linkedin.com/company/comsince/">
<meta itemprop="sameAs" content="https://www.crunchbase.com/organization/quest-db">
<meta itemprop="sameAs" content="https://github.com/fsharechat">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"dark")}()</script><div id="__docusaurus">
<nav class="navbar navbar--light navbar--fixed-top"><div class="navbar__inner inner_3txf"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand brand_9Wyn" href="/"><img alt="fsharechat" class="navbar__logo" src="/img/navbar/fshare.svg"></a><div class="navbar__item dropdown dropdown--hoverable dropdown--left"><a target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">安装</a><ul class="dropdown__menu"><li><a class="dropdown__link" position="left" href="/docs/guide/centos/">Centos</a></li><li><a class="dropdown__link" position="left" href="/docs/guide/ubuntu/">Ubuntu</a></li><li><a class="dropdown__link" position="left" href="/docs/guide/windows/">Windows</a></li></ul></div><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/introduction/">文档</a><a class="navbar__item navbar__link" href="/blog/">博客</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/fsharechat" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link navbar__item--github">GitHub</a><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span><span class="DocSearch-Button-Key">⌘</span><span class="DocSearch-Button-Key">K</span></button><a class="getStarted_1xnS button_Ni2_ button--primary_316O button--uppercase_35Ce button--xsmall_3jz_" href="/getstarted/">客户端下载</a></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand brand_9Wyn" href="/"><img alt="fsharechat" class="navbar__logo" src="/img/navbar/fshare.svg"></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a target="_blank" rel="noopener noreferrer" class="menu__link menu__link--sublist">安装</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" position="left" href="/docs/guide/centos/">Centos</a></li><li class="menu__list-item"><a class="menu__link" position="left" href="/docs/guide/ubuntu/">Ubuntu</a></li><li class="menu__list-item"><a class="menu__link" position="left" href="/docs/guide/windows/">Windows</a></li></ul></li><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/docs/introduction/">文档</a></li><li class="menu__list-item"><a class="menu__link" href="/blog/">博客</a></li><li class="menu__list-item"><a href="https://github.com/fsharechat" target="_blank" rel="noopener noreferrer" class="menu__link navbar__item--github">GitHub</a></li></ul></div></div></div></nav><div class="wrapper_1hNx"><div class="doc_2sKW"><div class="docs-sidebar doc__sidebar_1koD" role="complementary"><div class="sidebar_2urC"><div class="menu menu--responsive menu_5FrY"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_Dm3K" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/introduction">概述</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">系统架构</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/concept/tech-doc">即时聊天系统技术文档</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/concept/web-rtc-intro">实时音视频开发的工程化实践</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/concept/muti-conference-rtc">多人音视频会话方案预研</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/concept/delivery-read-report">送达与已读回执的设计方案说明</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist" href="#!">安装准备</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/prepare/mysql">MySQL基本安装</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/prepare/minio">Minio基本安装说明</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/prepare/cert">证书配置说明</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/prepare/nginx">Nginx安装配置说明</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/prepare/coturn">Coturn服务安装</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist" href="#!">安装指南</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/guide/centos">Centos上单机部署实践</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/guide/ubuntu">Ubuntu上单机部署实践</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/guide/windows">Windows单机部署实践</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/guide/cluster">飞享IM集群架构与安装说明</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist" href="#!">开放接口</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/api/pushapi">发送系统通知</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist" href="#!">服务咨询</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/consult/contact">商业合作咨询事项说明</a></li></ul></li></ul></div></div></div><main class="doc__main_23K2"><div class="container padding-vert--lg docItemWrapper_1EkI"><div class="row"><div class="col docItemCol_2ASc"><div class="docItemContainer_3QWW"><article><header><h1 class="docTitle_1Lrw">多人音视频会话方案预研</h1></header><div class="markdown"><p>本文主要说明多人音视频的工程技术方案选型,此文侧重于工程化实践,不讨论相关音视频编解码算法,旨在寻找一种适合中小型企业部署的多音视频方案以降低企业进行多人会议的成本.方案的选型主要还是适合现有的<code>飞享</code>聊天系统的相关技术栈,以便于能够对现有系统进行更快的集成.合理的方案最终满足企业对技术方案的可控,以及需要考虑框架周边的完善程度</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="webrtc多方方案概述"></a>WebRTC多方方案概述<a aria-hidden="true" tabindex="-1" class="hash-link" href="#webrtc多方方案概述" title="Direct link to heading">#</a></h2><p>当媒体服务器充当媒体中继时，它通常被称为SFU（Selective Forwarding Unit选择性转发单位），这意味着其主要目的是在客户端之间转发媒体流。还有一个MCU（Multipoint Conferencing Unit多点会议单元）的概念，MCU服务器不仅可以转发，而且可以对媒体流进行混合和编码压缩（比如把各个客户端的数据打包转发，和SFU相比，这样将大幅度降低转发数据的带宽需求，但对CPU有更高的要求）。</p><p><img src="https://media.comsince.cn/minio-bucket-image-name/webrtc-commuication-model.png" alt="image"></p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="mesh架构"></a>Mesh架构<a aria-hidden="true" tabindex="-1" class="hash-link" href="#mesh架构" title="Direct link to heading">#</a></h3><p>每个端都与其它端互连。以上图最左侧为例，5个浏览器，二二建立p2p连接，每个浏览器与其它4个建立连接，总共需要10个连接。如果每条连接占用1m带宽，则每个端上行需要4m，下行带宽也要4m，总共带宽消耗20m。而且除了带宽问题，每个浏览器上还要有音视频“编码/解码”，cpu使用率也是问题，一般这种架构只能支持4-6人左右，不过优点也很明显，没有中心节点，实现很简单。</p><p><strong>优点：</strong></p><ul><li>逻辑简单，容易实现</li><li>服务端比较 “轻量”，TURN 服务器比较简单，一定比例的 P2P 成功率可极大减轻服务端的压力</li></ul><p><strong>缺点：</strong></p><ul><li>每新增一个客户端，所有的客户端都需要新增一路数据上行，客户端上行带宽占用太大。因此，通话人数越多，效果越差</li><li>无法在服务端对视频进行额外处理，如：录制存储回放、实时转码、智能分析、多路合流、转推直播等等</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="mcu-multipoint-control-unit"></a>MCU (MultiPoint Control Unit)<a aria-hidden="true" tabindex="-1" class="hash-link" href="#mcu-multipoint-control-unit" title="Direct link to heading">#</a></h3><p>这是一种传统的中心化架构(上图中间部分)，每个浏览器仅与中心的MCU服务器连接，MCU服务器负责所有的视频编码、转码、解码、混合等复杂逻辑，每个浏览器只要1个连接，整个应用仅消耗5个连接，带宽占用(包括上行、下行）共10m，浏览器端的压力要小很多，可以支持更多的人同时音视频通讯，比较适合多人视频会议。但是MCU服务器的压力较大，需要较高的配置。  </p><p>以前在电信行业做视频会议一般都使用MCU(Multipoint Control Unit)，也就是多方推流在MCU上进行合流，在拉流的时候只有一路合流，这样的好处是无论几方推流，拉流只有一路，下行带宽比较小。但是问题也比较多，只要推流方一多，MCU的压力就比较大，而且分布式的部署也比较难，成本又很高。</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="sfuselective-forwarding-unit"></a>SFU(Selective Forwarding Unit)<a aria-hidden="true" tabindex="-1" class="hash-link" href="#sfuselective-forwarding-unit" title="Direct link to heading">#</a></h3><p>上图右侧部分，咋一看，跟MCU好象没什么区别，但是思路不同，仍然有中心节点服务器，但是中心节点只负责转发，不做太重的处理，所以服务器的压力会低很多，配置也不象MCU要求那么高。但是每个端需要建立一个连接用于上传自己的视频，同时还要有N-1个连接用于下载其它参与方的视频信息。所以总连接数为5*5，消耗的带宽也是最大的，如果每个连接1M带宽，总共需要25M带宽，它的典型场景是1对N的视频互动。  </p><p>SFU 服务器最核心的特点是把自己 “伪装” 成了一个 WebRTC 的 Peer 客户端，WebRTC 的其他客户端其实并不知道自己通过 P2P 连接过去的是一台真实的客户端还是一台服务器，我们通常把这种连接称之为 P2S，即：Peer to Server。除了 “伪装” 成一个 WebRTC 的 Peer 客户端外，SFU 服务器还有一个最重要的能力就是具备 one-to-many 的能力，即可以将一个 Client 端的数据转发到其他多个 Client 端。  </p><p>这种网络拓扑结构中，无论多少人同时进行视频通话，每个 WebRTC 的客户端只需要连接一个 SFU 服务器，上行一路数据即可，极大减少了多人视频通话场景下 Mesh 模型给客户端带来的上行带宽压力。  </p><p>SFU 服务器跟 TURN 服务器最大的不同是，TURN 服务器仅仅是为 WebRTC 客户端提供的一种辅助的数据转发通道，在 P2P 不通的时候进行透明的数据转发。而 SFU 是 “懂业务” 的， 它跟 WebRTC 客户端是平等的关系，甚至 “接管了” WebRTC 客户端的数据转发的申请和控制。  </p><p>现在互联网行业比较流行的是SFU(Selective Forwarding Unit)，简单说就是只负责转发流，不负责合流，压力很小。这样的模式可以依托CDN进行分布式的部署，不过拉流的方数限于客户端的带宽和处理能力。</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="为啥推荐选择-sfu-？"></a>为啥推荐选择 SFU ？<a aria-hidden="true" tabindex="-1" class="hash-link" href="#为啥推荐选择-sfu-？" title="Direct link to heading">#</a></h2><p>纯 mesh 方案无法适应多人视频通话，也无法实现服务端的各种视频处理需求，最先排除在商业应用之外。  </p><p>SFU 相比于 MCU，服务器的压力更小（纯转发，无转码合流），灵活性更好（可选择性开关任意一路数据的上下行等），受到更广泛的欢迎和应用，常见的开源 SFU 服务器有：<code>Licode</code>，<code>Kurento</code>，<code>Janus</code>，<code>Jitsi</code>，<code>Mediasoup</code>等。  </p><p>当然，也可以组合使用 SFU + MCU 的混合方案，以灵活应对不同场景的应用需要。</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="开源方案"></a>开源方案<a aria-hidden="true" tabindex="-1" class="hash-link" href="#开源方案" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="流媒体选型要考虑的主要因素"></a>流媒体选型要考虑的主要因素<a aria-hidden="true" tabindex="-1" class="hash-link" href="#流媒体选型要考虑的主要因素" title="Direct link to heading">#</a></h3><ul><li>你是否深刻理解其代码？</li><li>代码版本是否足够新？</li><li>有谁在使用它？</li><li>它的文档是否齐全？</li><li>它可以debug吗？</li><li>它可以伸缩吗？</li><li>它使用哪种语言？</li><li>对于媒体服务器而言，这种语言的性能是否足够？</li><li>团队是否足够了解这门语言？</li><li>是否适应你现有的Signaling范式？</li><li>你在看的Media Server是否容易与你决定使用的STUN/TURN服务器集成</li><li>许可证是否适合你？</li><li>谁在提供支持？
很多成功的、被良好维护的开源项目背后都有一个商业模式，尤其是中小型的项目，这意味着有一个团队以此为谋生手段。
具备可选的付费支持意味着：<ul><li>有人愿意全职来改善这东西，而不是作为爱好来维护。</li><li>如果你需要紧急帮助，只要花钱就能得到。</li></ul></li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="我们最后为啥选择了kurento？"></a>我们最后为啥选择了Kurento？<a aria-hidden="true" tabindex="-1" class="hash-link" href="#我们最后为啥选择了kurento？" title="Direct link to heading">#</a></h3><ul><li>开源</li><li>支持SFU和MCU</li><li>支持音视频流的转码，记录，混合，广播和路由</li><li>内置模块我们将来可以直接用</li><li>API公开其所有功能，与语言无关，可以使用任何语言</li><li>可拔插框架，容易扩展</li><li>文档丰富，demo多</li><li>社区活跃度高</li></ul><p>选择这个开源Media Server 主要是因为其完善的文档,基于Java的客户端API,方便集成现有的<a href="https://github.com/comsince/universe_push" target="_blank" rel="noopener noreferrer">unverse_push</a>信令服务器</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="本地安装kms"></a>本地安装KMS<a aria-hidden="true" tabindex="-1" class="hash-link" href="#本地安装kms" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="安装gpg"></a>安装GPG<a aria-hidden="true" tabindex="-1" class="hash-link" href="#安装gpg" title="Direct link to heading">#</a></h3><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-shell codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#f8f8f2;background-color:#262833"><div class="token-line" style="color:#f8f8f2"><span class="token function" style="color:#8be9fd">sudo</span><span class="token plain"> </span><span class="token function" style="color:#8be9fd">apt-get</span><span class="token plain"> update </span><span class="token operator" style="color:#ff79c6">&amp;&amp;</span><span class="token plain"> </span><span class="token function" style="color:#8be9fd">sudo</span><span class="token plain"> </span><span class="token function" style="color:#8be9fd">apt-get</span><span class="token plain"> </span><span class="token function" style="color:#8be9fd">install</span><span class="token plain"> --no-install-recommends --yes gnupg</span></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="确定ubuntu版本"></a>确定Ubuntu版本<a aria-hidden="true" tabindex="-1" class="hash-link" href="#确定ubuntu版本" title="Direct link to heading">#</a></h3><p>Run only one of these lines:</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="运行如下一行命令即可"></a>运行如下一行命令即可<a aria-hidden="true" tabindex="-1" class="hash-link" href="#运行如下一行命令即可" title="Direct link to heading">#</a></h3><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-shell codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#f8f8f2;background-color:#262833"><div class="token-line" style="color:#f8f8f2"><span class="token assign-left variable" style="color:#ff79c6">DISTRO</span><span class="token operator" style="color:#ff79c6">=</span><span class="token string" style="color:#f1fa8c">&quot;xenial&quot;</span><span class="token plain">  </span><span class="token comment" style="color:#6272a4"># KMS for Ubuntu 16.04 (Xenial)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token assign-left variable" style="color:#ff79c6">DISTRO</span><span class="token operator" style="color:#ff79c6">=</span><span class="token string" style="color:#f1fa8c">&quot;bionic&quot;</span><span class="token plain">  </span><span class="token comment" style="color:#6272a4"># KMS for Ubuntu 18.04 (Bionic)</span></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="添加kurento-仓库地址"></a>添加Kurento 仓库地址<a aria-hidden="true" tabindex="-1" class="hash-link" href="#添加kurento-仓库地址" title="Direct link to heading">#</a></h3><p>Run these two commands in the same terminal you used in the previous step:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-shell codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#f8f8f2;background-color:#262833"><div class="token-line" style="color:#f8f8f2"><span class="token function" style="color:#8be9fd">sudo</span><span class="token plain"> apt-key adv --keyserver keyserver.ubuntu.com --recv-keys 5AFA7A83</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token function" style="color:#8be9fd">sudo</span><span class="token plain"> </span><span class="token function" style="color:#8be9fd">tee</span><span class="token plain"> </span><span class="token string" style="color:#f1fa8c">&quot;/etc/apt/sources.list.d/kurento.list&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#ff79c6">&gt;</span><span class="token plain">/dev/null </span><span class="token operator" style="color:#ff79c6">&lt;&lt;</span><span class="token string" style="color:#f1fa8c">EOF</span></div><div class="token-line" style="color:#f8f8f2"><span class="token string" style="color:#f1fa8c"># Kurento Media Server - Release packages</span></div><div class="token-line" style="color:#f8f8f2"><span class="token string" style="color:#f1fa8c">deb [arch=amd64] http://ubuntu.openvidu.io/6.13.0 </span><span class="token string variable" style="color:#ff79c6">$DISTRO</span><span class="token string" style="color:#f1fa8c"> kms6</span></div><div class="token-line" style="color:#f8f8f2"><span class="token string" style="color:#f1fa8c">EOF</span></div></div></div></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="安装kms"></a>安装KMS<a aria-hidden="true" tabindex="-1" class="hash-link" href="#安装kms" title="Direct link to heading">#</a></h2><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-shell codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#f8f8f2;background-color:#262833"><div class="token-line" style="color:#f8f8f2"><span class="token function" style="color:#8be9fd">sudo</span><span class="token plain"> </span><span class="token function" style="color:#8be9fd">apt-get</span><span class="token plain"> update </span><span class="token operator" style="color:#ff79c6">&amp;&amp;</span><span class="token plain"> </span><span class="token function" style="color:#8be9fd">sudo</span><span class="token plain"> </span><span class="token function" style="color:#8be9fd">apt-get</span><span class="token plain"> </span><span class="token function" style="color:#8be9fd">install</span><span class="token plain"> --yes kurento-media-server</span></div></div></div></div></div><p>以上命令会安装最新版本的KMS</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="启动与停止"></a>启动与停止<a aria-hidden="true" tabindex="-1" class="hash-link" href="#启动与停止" title="Direct link to heading">#</a></h2><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-shell codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#f8f8f2;background-color:#262833"><div class="token-line" style="color:#f8f8f2"><span class="token function" style="color:#8be9fd">sudo</span><span class="token plain"> </span><span class="token function" style="color:#8be9fd">service</span><span class="token plain"> kurento-media-server start</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token function" style="color:#8be9fd">sudo</span><span class="token plain"> </span><span class="token function" style="color:#8be9fd">service</span><span class="token plain"> kurento-media-server stop</span></div></div></div></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="检验是否安装成功"></a>检验是否安装成功<a aria-hidden="true" tabindex="-1" class="hash-link" href="#检验是否安装成功" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="检查进程是否存在"></a>检查进程是否存在<a aria-hidden="true" tabindex="-1" class="hash-link" href="#检查进程是否存在" title="Direct link to heading">#</a></h3><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-shell codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#f8f8f2;background-color:#262833"><div class="token-line" style="color:#f8f8f2"><span class="token plain">$ </span><span class="token function" style="color:#8be9fd">ps</span><span class="token plain"> -fC kurento-media-server</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token environment constant" style="color:#bd93f9">UID</span><span class="token plain">        PID  </span><span class="token environment constant" style="color:#bd93f9">PPID</span><span class="token plain">  C STIME TTY          TIME CMD</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">kurento  </span><span class="token number" style="color:#50fa7b">17799</span><span class="token plain">     </span><span class="token number" style="color:#50fa7b">1</span><span class="token plain">  </span><span class="token number" style="color:#50fa7b">0</span><span class="token plain"> </span><span class="token number" style="color:#50fa7b">17</span><span class="token plain">:45 ?        00:00:00 /usr/bin/kurento-media-server</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="检查websocket-rpc端口是否存在"></a>检查websocket RPC端口是否存在<a aria-hidden="true" tabindex="-1" class="hash-link" href="#检查websocket-rpc端口是否存在" title="Direct link to heading">#</a></h3><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-shell codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#f8f8f2;background-color:#262833"><div class="token-line" style="color:#f8f8f2"><span class="token function" style="color:#8be9fd">sudo</span><span class="token plain"> </span><span class="token function" style="color:#8be9fd">netstat</span><span class="token plain"> -tupln </span><span class="token operator" style="color:#ff79c6">|</span><span class="token plain"> </span><span class="token function" style="color:#8be9fd">grep</span><span class="token plain"> -e kurento -e </span><span class="token number" style="color:#50fa7b">8888</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">tcp6       </span><span class="token number" style="color:#50fa7b">0</span><span class="token plain">      </span><span class="token number" style="color:#50fa7b">0</span><span class="token plain"> :::8888                 :::*                    LISTEN      </span><span class="token number" style="color:#50fa7b">17799</span><span class="token plain">/kurento-media</span></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="测试websocket-rpc链接"></a>测试websocket rpc链接<a aria-hidden="true" tabindex="-1" class="hash-link" href="#测试websocket-rpc链接" title="Direct link to heading">#</a></h3><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-shell codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#f8f8f2;background-color:#262833"><div class="token-line" style="color:#f8f8f2"><span class="token function" style="color:#8be9fd">curl</span><span class="token plain"> -i -N -H </span><span class="token string" style="color:#f1fa8c">&quot;Connection: Upgrade&quot;</span><span class="token plain"> -H </span><span class="token string" style="color:#f1fa8c">&quot;Upgrade: websocket&quot;</span><span class="token plain"> -H </span><span class="token string" style="color:#f1fa8c">&quot;Host: 127.0.0.1:8888&quot;</span><span class="token plain"> -H </span><span class="token string" style="color:#f1fa8c">&quot;Origin: 127.0.0.1&quot;</span><span class="token plain"> http://127.0.0.1:8888/kurento</span></div></div></div></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="返回结果"></a>返回结果<a aria-hidden="true" tabindex="-1" class="hash-link" href="#返回结果" title="Direct link to heading">#</a></h2><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-questdb-sql codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#f8f8f2;background-color:#262833"><div class="token-line" style="color:#f8f8f2"><span class="token plain">HTTP/1.1 500 Internal Server Error</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">Server: WebSocket++/0.7.0</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div></div></div></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="外部地址"></a>外部地址<a aria-hidden="true" tabindex="-1" class="hash-link" href="#外部地址" title="Direct link to heading">#</a></h2><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>如果media server有外部地址,可以不用配置turn/stun server地址,修改<code>/etc/kurento/modules/kurento/WebRtcEndpoint.conf.ini</code>
externalAddress=10.20.30.40</p></div></div><p><strong>NOTE:</strong> 此测试命令在sudo 命令下执行</p><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="loopback-本地测试"></a>loopback 本地测试<a aria-hidden="true" tabindex="-1" class="hash-link" href="#loopback-本地测试" title="Direct link to heading">#</a></h1><p>这里使用回环测试,说明<code>kurento</code>的基本使用,主要结合信令服务器说明</p><p><strong>NOTE:</strong> 下图是摘自官方文档的一个本地回环测试的架构图</p><p><img src="https://media.comsince.cn/minio-bucket-image-name/kurento-java-tutorial-1-helloworld-pipeline.png" alt="image"></p><p>有两个websocket链接这里说明一下:</p><ul><li><strong>一个是客户端与信息服务器通过websocket链接,用于信令交互</strong></li><li><strong>一个是kurento java客户端与KMS之间的链接</strong></li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="信令交互图"></a>信令交互图<a aria-hidden="true" tabindex="-1" class="hash-link" href="#信令交互图" title="Direct link to heading">#</a></h2><p><img src="https://media.comsince.cn/minio-bucket-image-name/kurento-java-tutorial-1-helloworld-signaling.png" alt="image"></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="一对一聊天"></a>一对一聊天<a aria-hidden="true" tabindex="-1" class="hash-link" href="#一对一聊天" title="Direct link to heading">#</a></h2><p>这里使用SFU服务器进行中间转发.说明SFU进行消息转发的基本使用方法</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="sfu与直连会话的对比"></a>SFU与直连会话的对比<a aria-hidden="true" tabindex="-1" class="hash-link" href="#sfu与直连会话的对比" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="p2p模式"></a>p2p模式<a aria-hidden="true" tabindex="-1" class="hash-link" href="#p2p模式" title="Direct link to heading">#</a></h3><p>这种聊天方式,信令服务器只是中转信令,中间对信令的内容不需要感知,信令服务器只需要转发信令到指定接收者即可.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="基于sfu的转发模式"></a>基于SFU的转发模式<a aria-hidden="true" tabindex="-1" class="hash-link" href="#基于sfu的转发模式" title="Direct link to heading">#</a></h3><p>本质是各个客户端与KMS建立链接.双方的sdp <code>offer/answer</code> 是各个客户端与KMS之间的协商,KMS伪装成<code>webRTC</code>客户端接收各个客户端的链接.然后内部进行消息的转发.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="信令设计"></a>信令设计<a aria-hidden="true" tabindex="-1" class="hash-link" href="#信令设计" title="Direct link to heading">#</a></h3><p><strong>NOTE:</strong> 如下图全新设计的信令交互图</p><p><img src="https://media.comsince.cn/minio-bucket-image-name/one2oneSingnal.png" alt="image"></p><p>以下事项需要注意:</p><ul><li><code>CallStartmessage</code>和<code>AnswerCallMessage</code>,<code>Byemessage</code>需要转发到目标客户端</li><li><code>SignalMessage</code>只在客户端与信令服务器端转发,不需要转发到对端</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="群组聊天"></a>群组聊天<a aria-hidden="true" tabindex="-1" class="hash-link" href="#群组聊天" title="Direct link to heading">#</a></h2><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="信令设计-1"></a>信令设计<a aria-hidden="true" tabindex="-1" class="hash-link" href="#信令设计-1" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="基于sfu的原始信令设计"></a>基于SFU的原始信令设计<a aria-hidden="true" tabindex="-1" class="hash-link" href="#基于sfu的原始信令设计" title="Direct link to heading">#</a></h3><ul><li>新的参与者发送信令<code>joinRoom</code>,加入到群组聊天中</li><li>信令服务器处理<code>joinRoom</code>消息,向群组中的用户广播有新的参与者加入.并且给新参数返回群组现有的成员名单</li><li>新的参与者会接收到现有的群组成员名单<ul><li>建立推流通道,用于专门发送本地视频到KMS</li><li>根据现有参与者,每一个参与者都建立一条拉流通道,用于分别接收群组中其他参与者的视频流</li></ul></li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="基于im的群组视频聊天的信令设计"></a>基于IM的群组视频聊天的信令设计<a aria-hidden="true" tabindex="-1" class="hash-link" href="#基于im的群组视频聊天的信令设计" title="Direct link to heading">#</a></h3><ul><li>群组某个成员发起群组视频聊天,发起<code>CallStartMessage</code>,并等待加入者</li><li>被通知者收到接收到的群组音视频通知,决定是否接收群组视频邀请</li><li>如果被邀请者同意接收音视频邀请,则回应<code>callAnswerMessage</code></li><li>信令服务器接收到用户接收请求邀请,分别给发起者发送<code>SignalMessage</code>包含新加入的用户,接收者发送包含正在音视频通话的列表的<code>SignalMessage</code></li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="交互设计"></a>交互设计<a aria-hidden="true" tabindex="-1" class="hash-link" href="#交互设计" title="Direct link to heading">#</a></h2><ul><li>群组中任何一个用户,点击语音或者视频聊天,之后选择要参与的用户,目前群聊用户初步限定为9人</li><li>一旦发起者建立群组会话,中间其他群组成员,不允许在进入,除非发起者邀请进入</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="技术实现"></a>技术实现<a aria-hidden="true" tabindex="-1" class="hash-link" href="#技术实现" title="Direct link to heading">#</a></h2><p>目前已经实现了基于vue web的群组音视频和基于android的群组音视频,详情请参考<a href="https://github.com/fsharechat/Readme" target="_blank" rel="noopener noreferrer">飞享IM项目说明</a></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="参考资料"></a>参考资料<a aria-hidden="true" tabindex="-1" class="hash-link" href="#参考资料" title="Direct link to heading">#</a></h2><ul><li><a href="https://juejin.im/post/5eca3f15e51d45789129173e#heading-21" target="_blank" rel="noopener noreferrer">互动直播之WebRTC服务开源技术选型</a></li><li><a href="https://juejin.im/post/5cb008c26fb9a068547345eb#heading-5" target="_blank" rel="noopener noreferrer">WebRTC现状以及多人视频通话分析</a></li><li><a href="https://doc-kurento.readthedocs.io/en/6.13.0/user/installation.html" target="_blank" rel="noopener noreferrer">kurento 官方文档</a></li><li><a href="https://www.jianshu.com/p/ac307371def4" target="_blank" rel="noopener noreferrer">架构设计：基于Webrtc、Kurento的一种低延迟架构实现</a></li></ul></div></article><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/concept/web-rtc-intro"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« 实时音视频开发的工程化实践</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/concept/delivery-read-report"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">送达与已读回执的设计方案说明 »</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_3SO_"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#webrtc多方方案概述" class="table-of-contents__link">WebRTC多方方案概述</a><ul><li><a href="#mesh架构" class="table-of-contents__link">Mesh架构</a></li><li><a href="#mcu-multipoint-control-unit" class="table-of-contents__link">MCU (MultiPoint Control Unit)</a></li><li><a href="#sfuselective-forwarding-unit" class="table-of-contents__link">SFU(Selective Forwarding Unit)</a></li></ul></li><li><a href="#为啥推荐选择-sfu-？" class="table-of-contents__link">为啥推荐选择 SFU ？</a></li><li><a href="#开源方案" class="table-of-contents__link">开源方案</a><ul><li><a href="#流媒体选型要考虑的主要因素" class="table-of-contents__link">流媒体选型要考虑的主要因素</a></li><li><a href="#我们最后为啥选择了kurento？" class="table-of-contents__link">我们最后为啥选择了Kurento？</a></li></ul></li><li><a href="#本地安装kms" class="table-of-contents__link">本地安装KMS</a><ul><li><a href="#安装gpg" class="table-of-contents__link">安装GPG</a></li><li><a href="#确定ubuntu版本" class="table-of-contents__link">确定Ubuntu版本</a></li><li><a href="#运行如下一行命令即可" class="table-of-contents__link">运行如下一行命令即可</a></li><li><a href="#添加kurento-仓库地址" class="table-of-contents__link">添加Kurento 仓库地址</a></li></ul></li><li><a href="#安装kms" class="table-of-contents__link">安装KMS</a></li><li><a href="#启动与停止" class="table-of-contents__link">启动与停止</a></li><li><a href="#检验是否安装成功" class="table-of-contents__link">检验是否安装成功</a><ul><li><a href="#检查进程是否存在" class="table-of-contents__link">检查进程是否存在</a></li><li><a href="#检查websocket-rpc端口是否存在" class="table-of-contents__link">检查websocket RPC端口是否存在</a></li><li><a href="#测试websocket-rpc链接" class="table-of-contents__link">测试websocket rpc链接</a></li></ul></li><li><a href="#返回结果" class="table-of-contents__link">返回结果</a></li><li><a href="#外部地址" class="table-of-contents__link">外部地址</a></li><li><a href="#信令交互图" class="table-of-contents__link">信令交互图</a></li><li><a href="#一对一聊天" class="table-of-contents__link">一对一聊天</a></li><li><a href="#sfu与直连会话的对比" class="table-of-contents__link">SFU与直连会话的对比</a><ul><li><a href="#p2p模式" class="table-of-contents__link">p2p模式</a></li><li><a href="#基于sfu的转发模式" class="table-of-contents__link">基于SFU的转发模式</a></li><li><a href="#信令设计" class="table-of-contents__link">信令设计</a></li></ul></li><li><a href="#群组聊天" class="table-of-contents__link">群组聊天</a></li><li><a href="#信令设计-1" class="table-of-contents__link">信令设计</a><ul><li><a href="#基于sfu的原始信令设计" class="table-of-contents__link">基于SFU的原始信令设计</a></li><li><a href="#基于im的群组视频聊天的信令设计" class="table-of-contents__link">基于IM的群组视频聊天的信令设计</a></li></ul></li><li><a href="#交互设计" class="table-of-contents__link">交互设计</a></li><li><a href="#技术实现" class="table-of-contents__link">技术实现</a></li><li><a href="#参考资料" class="table-of-contents__link">参考资料</a></li></ul></div></div></div></div></main></div></div><footer class="footer_mib0 section_3Kiu"><div class="footer__inner_z0Le section--inner_2xOo"><div class="footer__column_3Npq footer__column--left_1EuR"><img alt="FshareIM logo" class="footer__logo_29Wo" src="/img/footer/fsharechat.svg" title="飞享IM 做技术自主可控的即时通讯IM"><p class="footer__tagline_2F15">FshareIM是一个技术自主可控即时IM通讯系统,适于私有化部署</p><a class="footer__github_8UHO button_Ni2_ button--icon_3YKU button--secondary_1x2U button--xsmall_3jz_" href="https://github.com/fsharechat" rel="noopener noreferrer" target="_blank"><img alt="GitHub logo" height="22" src="/img/github.svg" title="GitHub" width="22">Star us on GitHub</a></div><div class="footer__column_3Npq footer__column--right_1XPX"><div class="footer__links_3WB8"><ul class="footer__items_3gGI"><li class="footer__title_1y7h">飞享IM</li><li class="footer__item_1JzF"><a class="footer__link_2PDg" href="/docs/introduction/">文档</a></li><li class="footer__item_1JzF"><a class="footer__link_2PDg" href="https://github.com/orgs/fsharechat/projects/1" rel="noopener noreferrer" target="_blank">路线图</a></li></ul></div><div class="footer__links_3WB8"><ul class="footer__items_3gGI"><li class="footer__title_1y7h">社区</li><li class="footer__item_1JzF"><a class="footer__link_2PDg" href="/community/">公众号</a></li><li class="footer__item_1JzF"><a class="footer__link_2PDg" href="/community/">QQ群</a></li><li class="footer__item_1JzF"><a class="footer__link_2PDg" href="https://weibo.com/comsince" rel="noopener noreferrer" target="_blank">微博</a></li></ul></div><div class="footer__links_3WB8"><ul class="footer__items_3gGI"><li class="footer__title_1y7h">更多</li><li class="footer__item_1JzF"><a class="footer__link_2PDg" href="/blog/">博客</a></li><li class="footer__item_1JzF"><a class="footer__link_2PDg" href="https://github.com/fsharechat" rel="noopener noreferrer" target="_blank">GitHub</a></li></ul></div></div></div><div class="footer__bottom_2RpL"><p class="footer__copyright_1o2i">Copyright © 2021 Fsharechat</p></div></footer></div>
<script src="/styles.4e14d175.js" defer="defer"></script>
<script src="/main.9f74d189.js" defer="defer"></script>
<script src="/common.d35a629c.js" defer="defer"></script>
<script src="/1be78505.320a9753.js" defer="defer"></script>
<script src="/935f2afb.490e30fb.js" defer="defer"></script>
<script src="/17896441.3285c9f4.js" defer="defer"></script>
<script src="/d2276f01.2a4d0174.js" defer="defer"></script>
</body>
</html>
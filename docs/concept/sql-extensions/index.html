<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=3">
<meta httpequiv="x-ua-compatible" content="ie=edge">
<meta property="og:type" content="website">
<meta name="author" content="fsharechat">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:site" content="@questdb">
<meta name="generator" content="Docusaurus v2.0.0-alpha.64">
<link href="https://www.googletagmanager.com" rel="dns-prefetch">
<link href="https://www.google-analytics.com" rel="dns-prefetch">
<link rel="shortcut icon" href="https://https://fsharechat.github.io//img/favicon.png">
<link rel="apple-touch-icon" sizes="48x48" href="/img/icons/icon-48x48.png">
<link rel="apple-touch-icon" sizes="72x72" href="/img/icons/icon-72x72.png">
<link rel="apple-touch-icon" sizes="96x96" href="/img/icons/icon-96x96.png">
<link rel="apple-touch-icon" sizes="144x144" href="/img/icons/icon-144x144.png">
<link rel="apple-touch-icon" sizes="192x192" href="/img/icons/icon-192x192.png">
<link rel="apple-touch-icon" sizes="256x256" href="/img/icons/icon-256x256.png">
<link rel="apple-touch-icon" sizes="384x384" href="/img/icons/icon-384x384.png">
<link rel="apple-touch-icon" sizes="512x512" href="/img/icons/icon-512x512.png">
<link rel="sitemap" type="application/xml" href="/sitemap.xml">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Time series data, faster Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Time series data, faster Blog Atom Feed">
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=GTM-PVR7M2G"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","GTM-PVR7M2G",{anonymize_ip:!0})</script>
<link rel="search" type="application/opensearchdescription+xml" title="Time series data, faster" href="/opensearch.xml">
<link rel="icon" href="/img/favicon.png">
<link rel="manifest" href="/manifest.webmanifest">
<meta name="theme-color" content="#d14671">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#21222c">
<link rel="apple-touch-icon" href="/img/favicon.png">
<link rel="mask-icon" href="/img/favicon.png" content="#fff">
<meta name="msapplication-TileImage" content="/img/favicon.png">
<meta name="msapplication-TileColor" content="#21222c"><title data-react-helmet="true">SQL extensions | Time series data, faster</title><meta data-react-helmet="true" property="og:image" content="https://https://fsharechat.github.io//img/og.png"><meta data-react-helmet="true" name="twitter:image" content="https://https://fsharechat.github.io//img/og.png"><meta data-react-helmet="true" name="twitter:description" content="QuestDB is an open source database designed to make time-series lightning fast and easy. It exposes a high performance REST API and supports Postgres wire."><meta data-react-helmet="true" name="twitter:title" content="Introduction | Time series data, faster"><meta data-react-helmet="true" name="twitter:image:alt" content="Image for &quot;Introduction | Time series data, faster&quot;"><meta data-react-helmet="true" property="og:title" content="SQL extensions | Time series data, faster"><meta data-react-helmet="true" name="description" content="QuestDB attempts to implement standard ANSI SQL and extends it for time series needs. This document covers such extensions."><meta data-react-helmet="true" property="og:description" content="QuestDB attempts to implement standard ANSI SQL and extends it for time series needs. This document covers such extensions."><meta data-react-helmet="true" property="og:url" content="https://https://fsharechat.github.io//docs/concept/sql-extensions"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="true"><link data-react-helmet="true" rel="canonical" href="https://https://fsharechat.github.io//docs/concept/sql-extensions"><link rel="stylesheet" href="/styles.2a8a7e1b.css">
</head>
<body itemscope itemtype="http://schema.org/Organization">
<meta itemprop="name" content="Fast SQL open source database for time series - QuestDB">
<meta itemprop="description" content="QuestDB is an open source database designed to make time-series lightning fast and easy. It exposes a high performance REST API and supports Postgres wire.">
<meta itemprop="url" content="https://https://fsharechat.github.io/">
<meta itemprop="logo" content="https://https://fsharechat.github.io//img/favicon.png">
<meta itemprop="sameAs" content="https://twitter.com/comsince">
<meta itemprop="sameAs" content="https://www.linkedin.com/company/comsince/">
<meta itemprop="sameAs" content="https://www.crunchbase.com/organization/quest-db">
<meta itemprop="sameAs" content="https://github.com/fsharechat">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"dark")}()</script><div id="__docusaurus">
<nav class="navbar navbar--light navbar--fixed-top"><div class="navbar__inner inner_3txf"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand brand_9Wyn" href="/"><img alt="QuestDB" class="navbar__logo" src="/img/navbar/fshare.svg"></a><div class="navbar__item dropdown dropdown--hoverable dropdown--left"><a target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">安装</a><ul class="dropdown__menu"><li><a class="dropdown__link" position="left" href="/docs/guide/centos/">Centos</a></li><li><a class="dropdown__link" position="left" href="/docs/guide/ubuntu/">Ubuntu</a></li><li><a class="dropdown__link" position="left" href="/docs/guide/windows/">Windows</a></li></ul></div><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/introduction/">文档</a><a class="navbar__item navbar__link" href="/blog/">博客</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/fsharechat" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link navbar__item--github">GitHub</a><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span><span class="DocSearch-Button-Key">⌘</span><span class="DocSearch-Button-Key">K</span></button><a class="getStarted_1xnS button_Ni2_ button--primary_316O button--uppercase_35Ce button--xsmall_3jz_" href="/getstarted/">客户端下载</a></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand brand_9Wyn" href="/"><img alt="QuestDB" class="navbar__logo" src="/img/navbar/fshare.svg"></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a target="_blank" rel="noopener noreferrer" class="menu__link menu__link--sublist">安装</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" position="left" href="/docs/guide/centos/">Centos</a></li><li class="menu__list-item"><a class="menu__link" position="left" href="/docs/guide/ubuntu/">Ubuntu</a></li><li class="menu__list-item"><a class="menu__link" position="left" href="/docs/guide/windows/">Windows</a></li></ul></li><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/docs/introduction/">文档</a></li><li class="menu__list-item"><a class="menu__link" href="/blog/">博客</a></li><li class="menu__list-item"><a href="https://github.com/fsharechat" target="_blank" rel="noopener noreferrer" class="menu__link navbar__item--github">GitHub</a></li></ul></div></div></div></nav><div class="wrapper_1hNx"><div class="doc_2sKW"><main class="doc__main_23K2"><div class="container padding-vert--lg docItemWrapper_1EkI"><div class="row"><div class="col docItemCol_2ASc"><div class="docItemContainer_3QWW"><article><header><h1 class="docTitle_1Lrw">SQL extensions</h1></header><div class="markdown"><p>QuestDB attempts to implement standard ANSI SQL. We also attempt to be
PostgreSQL compatible, although some of it is work in progress. This page
presents the main extensions we bring to SQL and the main differences that one
might find in SQL but not in QuestDB&#x27;s dialect.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="sql-extensions"></a>SQL extensions<a aria-hidden="true" tabindex="-1" class="hash-link" href="#sql-extensions" title="Direct link to heading">#</a></h2><p>We have extended SQL language to support our data storage model and simplify
semantics of time series queries.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="latest-by"></a>LATEST BY<a aria-hidden="true" tabindex="-1" class="hash-link" href="#latest-by" title="Direct link to heading">#</a></h3><p><a href="/docs/guide/crud/">LATEST BY</a> is a clause introduced to help perform UPDATE and
DELETE operations within an append-only framework.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="sample-by"></a>SAMPLE BY<a aria-hidden="true" tabindex="-1" class="hash-link" href="#sample-by" title="Direct link to heading">#</a></h3><p><a href="/docs/reference/sql/select/#sample-by">SAMPLE BY</a> for time based
<a href="/docs/reference/function/aggregation/">aggregations</a> with an efficient syntax.
The short query below will return the simple average balance from a list of
accounts by one month buckets.</p><div class="mdxCodeBlock_1XEh"><div style="color:#f8f8f2;background-color:#262833" class="codeBlockTitle_3nn1">Using SAMPLE BY</div><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd undefined">Copy</button><div tabindex="0" class="prism-code language-questdb-sql codeBlock_3iAC codeBlockWithTitle_3QsD"><div class="codeBlockLines_b7E3" style="color:#f8f8f2;background-color:#262833"><div class="token-line" style="color:#f8f8f2"><span class="token plain">select avg(balance) from accounts sample by 1M</span></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="timestamp-search"></a>Timestamp search<a aria-hidden="true" tabindex="-1" class="hash-link" href="#timestamp-search" title="Direct link to heading">#</a></h3><p>Timestamp search can be performed with regular operators, e.g <code>&gt;</code>, <code>&lt;=</code> etc.
However, QuestDB provides a
<a href="/docs/reference/sql/where/#timestamp-and-date">native notation</a> which is faster
and less verbose.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="differences-from-standard-sql"></a>Differences from standard SQL<a aria-hidden="true" tabindex="-1" class="hash-link" href="#differences-from-standard-sql" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="optionality-of-select--from"></a>Optionality of SELECT * FROM<a aria-hidden="true" tabindex="-1" class="hash-link" href="#optionality-of-select--from" title="Direct link to heading">#</a></h3><p>In QuestDB <code>select * from</code> is optional. So <code>SELECT * FROM tab;</code> achieves the
same effect as <code>tab;</code> While <code>select * from</code> makes SQL look more complete, there
are examples where its optionality makes things a lot easier to read.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="optionality-of-group-by"></a>Optionality of GROUP BY<a aria-hidden="true" tabindex="-1" class="hash-link" href="#optionality-of-group-by" title="Direct link to heading">#</a></h3><p>The <code>GROUP BY</code> clause is optional and can be ommitted as the QuestDB optimiser
derives group-by implementation from <code>SELECT</code> clause.</p><p>In standard SQL, users might write a query like the below.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-questdb-sql codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#f8f8f2;background-color:#262833"><div class="token-line" style="color:#f8f8f2"><span class="token plain">SELECT a, b, c, d, sum(e) FROM tab GROUP BY a, b, c, d;</span></div></div></div></div></div><p>However, enumerating subset of <code>SELECT</code> columns in the <code>GROUP BY</code> clause
redundant and therefore unnecessary. The same SQL in QuestDB SQL-dialect can be
written as:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-questdb-sql codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#f8f8f2;background-color:#262833"><div class="token-line" style="color:#f8f8f2"><span class="token plain">SELECT a, b, c, d, sum(e) FROM tab;</span></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="implicit-having"></a>Implicit HAVING<a aria-hidden="true" tabindex="-1" class="hash-link" href="#implicit-having" title="Direct link to heading">#</a></h3><p>Let&#x27;s look at another more complex example using HAVING in standard SQL.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-questdb-sql codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#f8f8f2;background-color:#262833"><div class="token-line" style="color:#f8f8f2"><span class="token plain">SELECT a, b, c, d, sum(e)</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">FROM tab</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">GROUP BY a, b, c, d</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">HAVING sum(e) &gt; 100;</span></div></div></div></div></div><p>In QuestDB&#x27;s dialect, <code>select * from</code> optionality and featherweight sub-queries
come to the rescue to create a smaller, more readable query, without unnecessary
repetitive aggregations. <code>HAVING</code> functionality can be obtained implicitly as
follows:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-questdb-sql codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#f8f8f2;background-color:#262833"><div class="token-line" style="color:#f8f8f2"><span class="token plain">(SELECT a, b, c, d, sum(e) s FROM tab) WHERE s &gt; 100;</span></div></div></div></div></div></div></article><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"></div><div class="pagination-nav__item pagination-nav__item--next"></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_3SO_"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#sql-extensions" class="table-of-contents__link">SQL extensions</a><ul><li><a href="#latest-by" class="table-of-contents__link">LATEST BY</a></li><li><a href="#sample-by" class="table-of-contents__link">SAMPLE BY</a></li><li><a href="#timestamp-search" class="table-of-contents__link">Timestamp search</a></li></ul></li><li><a href="#differences-from-standard-sql" class="table-of-contents__link">Differences from standard SQL</a><ul><li><a href="#optionality-of-select--from" class="table-of-contents__link">Optionality of SELECT * FROM</a></li><li><a href="#optionality-of-group-by" class="table-of-contents__link">Optionality of GROUP BY</a></li><li><a href="#implicit-having" class="table-of-contents__link">Implicit HAVING</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer_mib0 section_3Kiu"><div class="footer__inner_z0Le section--inner_2xOo"><div class="footer__column_3Npq footer__column--left_1EuR"><img alt="QuestDB logo" class="footer__logo_29Wo" src="/img/footer/questdb.svg" title="QuestDB - Fastest open source database for time series and analytics"><p class="footer__tagline_2F15">FshareIM是一个开源的即时IM通讯系统,适于私有化部署</p><a class="footer__github_8UHO button_Ni2_ button--icon_3YKU button--secondary_1x2U button--xsmall_3jz_" href="https://github.com/fsharechat" rel="noopener noreferrer" target="_blank"><img alt="GitHub logo" height="22" src="/img/github.svg" title="GitHub" width="22">Star us on GitHub</a></div><div class="footer__column_3Npq footer__column--right_1XPX"><div class="footer__links_3WB8"><ul class="footer__items_3gGI"><li class="footer__title_1y7h">飞享IM</li><li class="footer__item_1JzF"><a class="footer__link_2PDg" href="/docs/introduction/">文档</a></li><li class="footer__item_1JzF"><a class="footer__link_2PDg" href="https://github.com/orgs/fsharechat/projects/1" rel="noopener noreferrer" target="_blank">路线图</a></li><li class="footer__item_1JzF"><a class="footer__link_2PDg" href="/careers/">其他</a></li></ul></div><div class="footer__links_3WB8"><ul class="footer__items_3gGI"><li class="footer__title_1y7h">社区</li><li class="footer__item_1JzF"><a class="footer__link_2PDg" href="https://slack.https://fsharechat.github.io/" rel="noopener noreferrer" target="_blank">公众号</a></li><li class="footer__item_1JzF"><a class="footer__link_2PDg" href="https://twitter.com/comsince" rel="noopener noreferrer" target="_blank">微博</a></li></ul></div><div class="footer__links_3WB8"><ul class="footer__items_3gGI"><li class="footer__title_1y7h">更多</li><li class="footer__item_1JzF"><a class="footer__link_2PDg" href="/blog/">博客</a></li><li class="footer__item_1JzF"><a class="footer__link_2PDg" href="https://github.com/fsharechat" rel="noopener noreferrer" target="_blank">GitHub</a></li></ul></div></div></div><div class="footer__bottom_2RpL"><p class="footer__copyright_1o2i">Copyright © 2020 QuestDB</p></div></footer></div>
<script src="/styles.8280c5be.js" defer="defer"></script>
<script src="/main.49483961.js" defer="defer"></script>
<script src="/common.495d9a29.js" defer="defer"></script>
<script src="/1be78505.02686432.js" defer="defer"></script>
<script src="/935f2afb.6df0989d.js" defer="defer"></script>
<script src="/17896441.9b817c65.js" defer="defer"></script>
<script src="/44dd2695.621007c9.js" defer="defer"></script>
</body>
</html>